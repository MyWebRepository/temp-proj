<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>Phone control demo</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="../styles.css">
    
    <!-- <script src="../../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script> -->

    <script type="module" src="../../src/usr-textbox-phone.js"></script>
  </head>
  <body>
    <div style="padding:20px;width:50%;">
      <usr-textbox-phone class="usr-slot-before" placeholder="Phone number" value="1111111111" format="(###) ###-####">
        <span style="visibility:hidden; position: relative; top: 2px; color: blue;" class="glyphicon glyphicon-phone"></span>
      </usr-textbox-phone>
    </div>
  </body>
  <script>
    document.onreadystatechange = () => {
      if (document.readyState === 'complete') {
        function foo() {
          let elem = document.querySelector('usr-textbox-phone');
          let value = elem.value;  
          let rawValue = elem.rawValue;    
          console.log("value = " + value, "raw valule = " + rawValue)

          elem.onValidate = function(e) {
            let m = e.detail.message;
            console.log("event", m);
          }

          // elem.addEventListener('validate', function(e) {
          // 	let m = e.detail.message;
          // 	alert(m);
          // });
        }
        foo();
      }
    };
  </script>
</html>
